<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanji Practice, Innit?</title>
    <link rel="icon" type="image/svg+xml" href="favicon.svg">
    <link rel="alternate icon" href="favicon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+JP:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        'sans': ['Inter', 'system-ui', 'sans-serif'],
                        'japanese': ['Noto Sans JP', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        'kanji-blue': '#2563EB',
                        'kanji-indigo': '#4F46E5',
                        'kanji-purple': '#7C3AED',
                        'kanji-pink': '#EC4899',
                        'kanji-red': '#EF4444',
                        'kanji-orange': '#F97316',
                        'kanji-yellow': '#EAB308',
                        'kanji-green': '#10B981',
                        'kanji-teal': '#14B8A6',
                        'kanji-cyan': '#06B6D4',
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.5s ease-in-out',
                        'slide-up': 'slideUp 0.3s ease-out',
                        'bounce-subtle': 'bounceSubtle 0.6s ease-in-out',
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: '0' },
                            '100%': { opacity: '1' },
                        },
                        slideUp: {
                            '0%': { transform: 'translateY(10px)', opacity: '0' },
                            '100%': { transform: 'translateY(0)', opacity: '1' },
                        },
                        bounceSubtle: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-5px)' },
                        },
                    },
                }
            }
        }
    </script>
</head>
<body class="bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-100 min-h-screen font-sans">
    <!-- Main Content -->
    <main class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
        <!-- Learn Kanji Tab -->
        <div id="learn-content" class="space-y-8 animate-fade-in">
            <!-- Hero Section -->
            <div class="text-center space-y-4">
                <div class="inline-flex items-center justify-center w-20 h-20 bg-gradient-to-br from-kanji-blue to-kanji-purple rounded-2xl mb-4 animate-bounce-subtle">
                    <span class="text-3xl font-japanese font-bold text-white">漢</span>
                </div>
                <h1 class="text-5xl md:text-6xl font-black bg-gradient-to-r from-kanji-blue via-kanji-purple to-kanji-pink bg-clip-text text-transparent mb-4">
                    Kanji Practice, Innit?
                </h1>
                <p class="text-xl text-slate-600 max-w-2xl mx-auto leading-relaxed">
                    Master Japanese characters with our interactive learning experience. Click any kanji to explore its secrets.
                </p>
            </div>

            <!-- Level Tabs -->
            <div class="flex flex-wrap justify-center gap-3 mb-12">
                <button class="level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-kanji-blue to-kanji-indigo text-white shadow-lg hover:shadow-xl" data-level="N5">
                    <span class="text-lg">N5</span>
                    <div class="text-xs opacity-90 mt-1">Beginner</div>
                </button>
                <button class="level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-slate-200 to-slate-300 text-slate-700 hover:from-slate-300 hover:to-slate-400 shadow-md hover:shadow-lg" data-level="N4">
                    <span class="text-lg">N4</span>
                    <div class="text-xs opacity-70 mt-1">Elementary</div>
                </button>
                <button class="level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-slate-200 to-slate-300 text-slate-700 hover:from-slate-300 hover:to-slate-400 shadow-md hover:shadow-lg" data-level="N3">
                    <span class="text-lg">N3</span>
                    <div class="text-xs opacity-70 mt-1">Intermediate</div>
                </button>
                <button class="level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-slate-200 to-slate-300 text-slate-700 hover:from-slate-300 hover:to-slate-400 shadow-md hover:shadow-lg" data-level="N2">
                    <span class="text-lg">N2</span>
                    <div class="text-xs opacity-70 mt-1">Advanced</div>
                </button>
                <button class="level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-slate-200 to-slate-300 text-slate-700 hover:from-slate-300 hover:to-slate-400 shadow-md hover:shadow-lg" data-level="N1">
                    <span class="text-lg">N1</span>
                    <div class="text-xs opacity-70 mt-1">Expert</div>
                </button>
            </div>

            <!-- Kanji Grid -->
            <div id="kanji-grid" class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 2xl:grid-cols-10 gap-4 md:gap-6">
                <!-- Kanji cards will be populated here -->
            </div>

            <!-- Kanji Count -->
            <div class="text-center">
                <div class="inline-flex items-center px-6 py-3 bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg border border-white/20">
                    <div class="w-3 h-3 bg-gradient-to-r from-kanji-green to-kanji-teal rounded-full mr-3 animate-pulse-slow"></div>
                    <span id="kanji-count" class="text-slate-600 font-medium">Showing 0 kanji for N5</span>
                </div>
            </div>
        </div>

    </main>

    <!-- Kanji Modal -->
    <div id="kanji-modal" class="fixed inset-0 bg-black/60 backdrop-blur-sm hidden z-50 animate-fade-in">
        <div class="flex items-center justify-center min-h-screen p-4">
            <div class="bg-white/95 backdrop-blur-xl rounded-3xl max-w-lg w-full p-8 shadow-2xl border border-white/20 animate-slide-up">
                <div class="flex justify-between items-center mb-6">
                    <h3 class="text-2xl font-bold bg-gradient-to-r from-kanji-blue to-kanji-purple bg-clip-text text-transparent">Kanji Details</h3>
                    <button id="close-modal" class="w-10 h-10 rounded-full bg-slate-100 hover:bg-slate-200 flex items-center justify-center transition-colors group">
                        <svg class="w-5 h-5 text-slate-500 group-hover:text-slate-700" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
                <div id="modal-content" class="text-center">
                    <!-- Content will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="mt-16">
        <div class="max-w-7xl mx-auto py-8 px-4 sm:px-6 lg:px-8">
            <div class="text-center space-y-3">
                <p class="text-slate-500 text-sm font-medium">
                    Master Japanese Characters with Kanji Master
                </p>
                <p class="text-slate-400 text-xs">
                    Vibe-coded by <a href="https://anindilla.com" target="_blank" class="text-kanji-blue hover:text-kanji-purple transition-colors font-semibold">dilleuh</a>
                </p>
            </div>
        </div>
    </footer>

    <script>
        // Kanji data - Comprehensive database
        const kanjiData = {
            'N5': [
                // Basic numbers
                { character: '一', onyomi: ['いち', 'いつ'], kunyomi: ['ひと'], meanings: ['one'] },
                { character: '二', onyomi: ['に'], kunyomi: ['ふた'], meanings: ['two'] },
                { character: '三', onyomi: ['さん'], kunyomi: ['み'], meanings: ['three'] },
                { character: '四', onyomi: ['し'], kunyomi: ['よん', 'よ'], meanings: ['four'] },
                { character: '五', onyomi: ['ご'], kunyomi: ['いつ'], meanings: ['five'] },
                { character: '六', onyomi: ['ろく'], kunyomi: ['む'], meanings: ['six'] },
                { character: '七', onyomi: ['しち'], kunyomi: ['なな'], meanings: ['seven'] },
                { character: '八', onyomi: ['はち'], kunyomi: ['や'], meanings: ['eight'] },
                { character: '九', onyomi: ['きゅう', 'く'], kunyomi: ['ここの'], meanings: ['nine'] },
                { character: '十', onyomi: ['じゅう'], kunyomi: ['とお'], meanings: ['ten'] },
                { character: '百', onyomi: ['ひゃく'], kunyomi: [], meanings: ['hundred'] },
                { character: '千', onyomi: ['せん'], kunyomi: ['ち'], meanings: ['thousand'] },
                { character: '万', onyomi: ['まん', 'ばん'], kunyomi: [], meanings: ['ten thousand'] },
                
                // Basic people and body
                { character: '人', onyomi: ['じん', 'にん'], kunyomi: ['ひと'], meanings: ['person', 'people'] },
                { character: '男', onyomi: ['だん', 'なん'], kunyomi: ['おとこ'], meanings: ['man', 'male'] },
                { character: '女', onyomi: ['じょ', 'にょ'], kunyomi: ['おんな'], meanings: ['woman', 'female'] },
                { character: '子', onyomi: ['し'], kunyomi: ['こ'], meanings: ['child'] },
                { character: '目', onyomi: ['もく'], kunyomi: ['め'], meanings: ['eye'] },
                { character: '口', onyomi: ['こう'], kunyomi: ['くち'], meanings: ['mouth'] },
                { character: '手', onyomi: ['しゅ'], kunyomi: ['て'], meanings: ['hand'] },
                { character: '足', onyomi: ['そく'], kunyomi: ['あし'], meanings: ['foot', 'leg'] },
                { character: '耳', onyomi: ['じ'], kunyomi: ['みみ'], meanings: ['ear'] },
                { character: '頭', onyomi: ['とう'], kunyomi: ['あたま'], meanings: ['head'] },
                
                // Basic nature
                { character: '山', onyomi: ['さん'], kunyomi: ['やま'], meanings: ['mountain'] },
                { character: '川', onyomi: ['せん'], kunyomi: ['かわ'], meanings: ['river'] },
                { character: '海', onyomi: ['かい'], kunyomi: ['うみ'], meanings: ['sea', 'ocean'] },
                { character: '田', onyomi: ['でん'], kunyomi: ['た'], meanings: ['rice field'] },
                { character: '森', onyomi: ['しん'], kunyomi: ['もり'], meanings: ['forest'] },
                { character: '木', onyomi: ['もく', 'ぼく'], kunyomi: ['き'], meanings: ['tree', 'wood'] },
                { character: '花', onyomi: ['か'], kunyomi: ['はな'], meanings: ['flower'] },
                { character: '草', onyomi: ['そう'], kunyomi: ['くさ'], meanings: ['grass'] },
                
                // Time and calendar
                { character: '日', onyomi: ['にち', 'じつ'], kunyomi: ['ひ', 'か'], meanings: ['day', 'sun'] },
                { character: '月', onyomi: ['げつ', 'がつ'], kunyomi: ['つき'], meanings: ['month', 'moon'] },
                { character: '年', onyomi: ['ねん'], kunyomi: ['とし'], meanings: ['year'] },
                { character: '時', onyomi: ['じ'], kunyomi: ['とき'], meanings: ['time', 'hour'] },
                { character: '分', onyomi: ['ぶん', 'ふん'], kunyomi: ['わ'], meanings: ['minute', 'part'] },
                { character: '今', onyomi: ['こん'], kunyomi: ['いま'], meanings: ['now'] },
                { character: '朝', onyomi: ['ちょう'], kunyomi: ['あさ'], meanings: ['morning'] },
                { character: '夜', onyomi: ['や'], kunyomi: ['よる'], meanings: ['night'] },
                { character: '午', onyomi: ['ご'], kunyomi: [], meanings: ['noon'] },
                { character: '週', onyomi: ['しゅう'], kunyomi: [], meanings: ['week'] },
                
                // Basic elements
                { character: '火', onyomi: ['か'], kunyomi: ['ひ'], meanings: ['fire'] },
                { character: '水', onyomi: ['すい'], kunyomi: ['みず'], meanings: ['water'] },
                { character: '金', onyomi: ['きん', 'こん'], kunyomi: ['かね'], meanings: ['gold', 'money'] },
                { character: '土', onyomi: ['ど', 'と'], kunyomi: ['つち'], meanings: ['earth', 'soil'] },
                { character: '空', onyomi: ['くう'], kunyomi: ['そら'], meanings: ['sky', 'empty'] },
                
                // Colors
                { character: '白', onyomi: ['はく', 'びゃく'], kunyomi: ['しろ'], meanings: ['white'] },
                { character: '黒', onyomi: ['こく'], kunyomi: ['くろ'], meanings: ['black'] },
                { character: '赤', onyomi: ['せき'], kunyomi: ['あか'], meanings: ['red'] },
                { character: '青', onyomi: ['せい'], kunyomi: ['あお'], meanings: ['blue', 'green'] },
                { character: '黄', onyomi: ['おう'], kunyomi: ['き'], meanings: ['yellow'] },
                
                // Directions
                { character: '東', onyomi: ['とう'], kunyomi: ['ひがし'], meanings: ['east'] },
                { character: '西', onyomi: ['せい', 'さい'], kunyomi: ['にし'], meanings: ['west'] },
                { character: '南', onyomi: ['なん'], kunyomi: ['みなみ'], meanings: ['south'] },
                { character: '北', onyomi: ['ほく'], kunyomi: ['きた'], meanings: ['north'] },
                { character: '中', onyomi: ['ちゅう'], kunyomi: ['なか'], meanings: ['middle', 'center'] },
                { character: '上', onyomi: ['じょう'], kunyomi: ['うえ', 'あ'], meanings: ['up', 'above'] },
                { character: '下', onyomi: ['か', 'げ'], kunyomi: ['した', 'さ'], meanings: ['down', 'below'] },
                { character: '左', onyomi: ['さ'], kunyomi: ['ひだり'], meanings: ['left'] },
                { character: '右', onyomi: ['ゆう', 'う'], kunyomi: ['みぎ'], meanings: ['right'] },
                { character: '前', onyomi: ['ぜん'], kunyomi: ['まえ'], meanings: ['front', 'before'] },
                { character: '後', onyomi: ['ご', 'こう'], kunyomi: ['うしろ', 'あと'], meanings: ['back', 'after'] },
                
                // Size and quantity
                { character: '大', onyomi: ['だい', 'たい'], kunyomi: ['おお'], meanings: ['big', 'large'] },
                { character: '小', onyomi: ['しょう'], kunyomi: ['ちい', 'こ'], meanings: ['small', 'little'] },
                { character: '多', onyomi: ['た'], kunyomi: ['おお'], meanings: ['many', 'much'] },
                { character: '少', onyomi: ['しょう'], kunyomi: ['すこ', 'すく'], meanings: ['few', 'little'] },
                { character: '長', onyomi: ['ちょう'], kunyomi: ['なが'], meanings: ['long'] },
                { character: '短', onyomi: ['たん'], kunyomi: ['みじか'], meanings: ['short'] },
                { character: '高', onyomi: ['こう'], kunyomi: ['たか'], meanings: ['high', 'expensive'] },
                { character: '低', onyomi: ['てい'], kunyomi: ['ひく'], meanings: ['low'] },
                
                // Basic actions
                { character: '行', onyomi: ['こう', 'ぎょう'], kunyomi: ['い', 'ゆ'], meanings: ['go', 'line'] },
                { character: '来', onyomi: ['らい'], kunyomi: ['く'], meanings: ['come', 'next'] },
                { character: '見', onyomi: ['けん'], kunyomi: ['み'], meanings: ['see', 'look'] },
                { character: '聞', onyomi: ['ぶん'], kunyomi: ['き'], meanings: ['hear', 'listen'] },
                { character: '話', onyomi: ['わ'], kunyomi: ['はな'], meanings: ['talk', 'speak'] },
                { character: '読', onyomi: ['どく'], kunyomi: ['よ'], meanings: ['read'] },
                { character: '書', onyomi: ['しょ'], kunyomi: ['か'], meanings: ['write'] },
                { character: '買', onyomi: ['ばい'], kunyomi: ['か'], meanings: ['buy'] },
                { character: '売', onyomi: ['ばい'], kunyomi: ['う'], meanings: ['sell'] },
                { character: '食', onyomi: ['しょく'], kunyomi: ['た'], meanings: ['eat', 'food'] },
                { character: '飲', onyomi: ['いん'], kunyomi: ['の'], meanings: ['drink'] },
                { character: '住', onyomi: ['じゅう'], kunyomi: ['す'], meanings: ['live', 'reside'] },
                { character: '働', onyomi: ['どう'], kunyomi: ['はたら'], meanings: ['work'] },
                { character: '休', onyomi: ['きゅう'], kunyomi: ['やす'], meanings: ['rest', 'holiday'] },
                { character: '学', onyomi: ['がく'], kunyomi: ['まな'], meanings: ['study', 'learn'] },
                { character: '教', onyomi: ['きょう'], kunyomi: ['おし'], meanings: ['teach'] },
                { character: '習', onyomi: ['しゅう'], kunyomi: ['なら'], meanings: ['learn', 'practice'] },
                
                // Family and relationships
                { character: '父', onyomi: ['ふ'], kunyomi: ['ちち'], meanings: ['father'] },
                { character: '母', onyomi: ['ぼ'], kunyomi: ['はは'], meanings: ['mother'] },
                { character: '兄', onyomi: ['けい'], kunyomi: ['あに'], meanings: ['older brother'] },
                { character: '弟', onyomi: ['てい'], kunyomi: ['おとうと'], meanings: ['younger brother'] },
                { character: '姉', onyomi: ['し'], kunyomi: ['あね'], meanings: ['older sister'] },
                { character: '妹', onyomi: ['まい'], kunyomi: ['いもうと'], meanings: ['younger sister'] },
                { character: '友', onyomi: ['ゆう'], kunyomi: ['とも'], meanings: ['friend'] },
                { character: '家族', onyomi: ['かぞく'], kunyomi: [], meanings: ['family'] },
                
                // School and work
                { character: '学校', onyomi: ['がっこう'], kunyomi: [], meanings: ['school'] },
                { character: '先生', onyomi: ['せんせい'], kunyomi: [], meanings: ['teacher'] },
                { character: '学生', onyomi: ['がくせい'], kunyomi: [], meanings: ['student'] },
                { character: '仕事', onyomi: ['しごと'], kunyomi: [], meanings: ['work', 'job'] },
                { character: '会社', onyomi: ['かいしゃ'], kunyomi: [], meanings: ['company'] },
                
                // Places
                { character: '家', onyomi: ['か'], kunyomi: ['いえ', 'うち'], meanings: ['house', 'home'] },
                { character: '店', onyomi: ['てん'], kunyomi: ['みせ'], meanings: ['shop', 'store'] },
                { character: '病院', onyomi: ['びょういん'], kunyomi: [], meanings: ['hospital'] },
                { character: '銀行', onyomi: ['ぎんこう'], kunyomi: [], meanings: ['bank'] },
                { character: '郵便局', onyomi: ['ゆうびんきょく'], kunyomi: [], meanings: ['post office'] },
                { character: '駅', onyomi: ['えき'], kunyomi: [], meanings: ['station'] },
                { character: '空港', onyomi: ['くうこう'], kunyomi: [], meanings: ['airport'] },
                { character: '図書館', onyomi: ['としょかん'], kunyomi: [], meanings: ['library'] },
                
                // Transportation
                { character: '車', onyomi: ['しゃ'], kunyomi: ['くるま'], meanings: ['car', 'vehicle'] },
                { character: '電', onyomi: ['でん'], kunyomi: [], meanings: ['electricity'] },
                { character: '電車', onyomi: ['でんしゃ'], kunyomi: [], meanings: ['train'] },
                { character: '自転車', onyomi: ['じてんしゃ'], kunyomi: [], meanings: ['bicycle'] },
                
                // Food and drink
                { character: '米', onyomi: ['べい'], kunyomi: ['こめ'], meanings: ['rice'] },
                { character: '肉', onyomi: ['にく'], kunyomi: [], meanings: ['meat'] },
                { character: '魚', onyomi: ['ぎょ'], kunyomi: ['さかな'], meanings: ['fish'] },
                { character: '野菜', onyomi: ['やさい'], kunyomi: [], meanings: ['vegetables'] },
                { character: '果物', onyomi: ['くだもの'], kunyomi: [], meanings: ['fruit'] },
                { character: '牛乳', onyomi: ['ぎゅうにゅう'], kunyomi: [], meanings: ['milk'] },
                { character: '水', onyomi: ['すい'], kunyomi: ['みず'], meanings: ['water'] },
                { character: '茶', onyomi: ['ちゃ'], kunyomi: [], meanings: ['tea'] },
                
                // Clothing
                { character: '服', onyomi: ['ふく'], kunyomi: [], meanings: ['clothes'] },
                { character: '帽子', onyomi: ['ぼうし'], kunyomi: [], meanings: ['hat'] },
                { character: '靴', onyomi: ['くつ'], kunyomi: [], meanings: ['shoes'] },
                
                // Weather and seasons
                { character: '天気', onyomi: ['てんき'], kunyomi: [], meanings: ['weather'] },
                { character: '雨', onyomi: ['う'], kunyomi: ['あめ'], meanings: ['rain'] },
                { character: '雪', onyomi: ['せつ'], kunyomi: ['ゆき'], meanings: ['snow'] },
                { character: '風', onyomi: ['ふう'], kunyomi: ['かぜ'], meanings: ['wind'] },
                { character: '春', onyomi: ['しゅん'], kunyomi: ['はる'], meanings: ['spring'] },
                { character: '夏', onyomi: ['か'], kunyomi: ['なつ'], meanings: ['summer'] },
                { character: '秋', onyomi: ['しゅう'], kunyomi: ['あき'], meanings: ['autumn'] },
                { character: '冬', onyomi: ['とう'], kunyomi: ['ふゆ'], meanings: ['winter'] },
                
                // Basic adjectives
                { character: '新', onyomi: ['しん'], kunyomi: ['あたら', 'あら'], meanings: ['new'] },
                { character: '古', onyomi: ['こ'], kunyomi: ['ふる'], meanings: ['old'] },
                { character: '早', onyomi: ['そう'], kunyomi: ['はや'], meanings: ['early', 'fast'] },
                { character: '遅', onyomi: ['ち'], kunyomi: ['おそ'], meanings: ['late', 'slow'] },
                { character: '近', onyomi: ['きん'], kunyomi: ['ちか'], meanings: ['near', 'close'] },
                { character: '遠', onyomi: ['えん'], kunyomi: ['とお'], meanings: ['far', 'distant'] },
                { character: '強', onyomi: ['きょう'], kunyomi: ['つよ'], meanings: ['strong'] },
                { character: '弱', onyomi: ['じゃく'], kunyomi: ['よわ'], meanings: ['weak'] },
                { character: '重', onyomi: ['じゅう', 'ちょう'], kunyomi: ['おも'], meanings: ['heavy', 'important'] },
                { character: '軽', onyomi: ['けい'], kunyomi: ['かる'], meanings: ['light'] },
                { character: '忙', onyomi: ['ぼう'], kunyomi: ['いそが'], meanings: ['busy'] },
                { character: '暇', onyomi: ['か'], kunyomi: ['ひま'], meanings: ['free time', 'leisure'] },
                { character: '楽', onyomi: ['らく', 'がく'], kunyomi: ['たの'], meanings: ['easy', 'fun', 'music'] },
                { character: '難', onyomi: ['なん'], kunyomi: ['むずか'], meanings: ['difficult'] },
                { character: '簡単', onyomi: ['かんたん'], kunyomi: [], meanings: ['simple', 'easy'] },
                { character: '安全', onyomi: ['あんぜん'], kunyomi: [], meanings: ['safe', 'security'] },
                { character: '危険', onyomi: ['きけん'], kunyomi: [], meanings: ['dangerous'] },
                { character: '便利', onyomi: ['べんり'], kunyomi: [], meanings: ['convenient'] },
                { character: '有名', onyomi: ['ゆうめい'], kunyomi: [], meanings: ['famous'] },
                { character: '大切', onyomi: ['たいせつ'], kunyomi: [], meanings: ['important', 'precious'] }
            ],
            'N4': [
                // Advanced numbers and time
                { character: '半', onyomi: ['はん'], kunyomi: [], meanings: ['half'] },
                { character: '秒', onyomi: ['びょう'], kunyomi: [], meanings: ['second'] },
                { character: '週', onyomi: ['しゅう'], kunyomi: [], meanings: ['week'] },
                { character: '曜', onyomi: ['よう'], kunyomi: [], meanings: ['day of week'] },
                { character: '先', onyomi: ['せん'], kunyomi: ['さき'], meanings: ['previous', 'ahead'] },
                { character: '後', onyomi: ['ご', 'こう'], kunyomi: ['うしろ', 'あと'], meanings: ['back', 'after'] },
                
                // Advanced actions
                { character: '使', onyomi: ['し'], kunyomi: ['つか'], meanings: ['use'] },
                { character: '作', onyomi: ['さく'], kunyomi: ['つく'], meanings: ['make', 'create'] },
                { character: '持', onyomi: ['じ'], kunyomi: ['も'], meanings: ['hold', 'have'] },
                { character: '取', onyomi: ['しゅ'], kunyomi: ['と'], meanings: ['take', 'get'] },
                { character: '出', onyomi: ['しゅつ'], kunyomi: ['で'], meanings: ['go out', 'exit'] },
                { character: '入', onyomi: ['にゅう'], kunyomi: ['はい'], meanings: ['enter', 'go in'] },
                { character: '立', onyomi: ['りつ'], kunyomi: ['た'], meanings: ['stand', 'establish'] },
                { character: '座', onyomi: ['ざ'], kunyomi: ['すわ'], meanings: ['sit'] },
                { character: '歩', onyomi: ['ほ'], kunyomi: ['ある'], meanings: ['walk'] },
                { character: '走', onyomi: ['そう'], kunyomi: ['はし'], meanings: ['run'] },
                { character: '飛', onyomi: ['ひ'], kunyomi: ['と'], meanings: ['fly'] },
                { character: '泳', onyomi: ['えい'], kunyomi: ['およ'], meanings: ['swim'] },
                
                // Advanced body parts
                { character: '体', onyomi: ['たい'], kunyomi: ['からだ'], meanings: ['body'] },
                { character: '心', onyomi: ['しん'], kunyomi: ['こころ'], meanings: ['heart', 'mind'] },
                { character: '顔', onyomi: ['がん'], kunyomi: ['かお'], meanings: ['face'] },
                { character: '首', onyomi: ['しゅ'], kunyomi: ['くび'], meanings: ['neck'] },
                { character: '背', onyomi: ['はい'], kunyomi: ['せ'], meanings: ['back'] },
                { character: '胸', onyomi: ['きょう'], kunyomi: ['むね'], meanings: ['chest'] },
                { character: '腹', onyomi: ['ふく'], kunyomi: ['はら'], meanings: ['stomach'] },
                { character: '腰', onyomi: ['よう'], kunyomi: ['こし'], meanings: ['waist'] },
                { character: '肩', onyomi: ['けん'], kunyomi: ['かた'], meanings: ['shoulder'] },
                { character: '腕', onyomi: ['わん'], kunyomi: ['うで'], meanings: ['arm'] },
                { character: '指', onyomi: ['し'], kunyomi: ['ゆび'], meanings: ['finger'] },
                { character: '髪', onyomi: ['はつ'], kunyomi: ['かみ'], meanings: ['hair'] },
                
                // Advanced nature
                { character: '石', onyomi: ['せき'], kunyomi: ['いし'], meanings: ['stone'] },
                { character: '岩', onyomi: ['がん'], kunyomi: ['いわ'], meanings: ['rock'] },
                { character: '砂', onyomi: ['さ'], kunyomi: ['すな'], meanings: ['sand'] },
                { character: '土', onyomi: ['ど', 'と'], kunyomi: ['つち'], meanings: ['earth', 'soil'] },
                { character: '畑', onyomi: ['はた'], kunyomi: ['はたけ'], meanings: ['field'] },
                { character: '池', onyomi: ['ち'], kunyomi: ['いけ'], meanings: ['pond'] },
                { character: '湖', onyomi: ['こ'], kunyomi: ['みずうみ'], meanings: ['lake'] },
                { character: '島', onyomi: ['とう'], kunyomi: ['しま'], meanings: ['island'] },
                { character: '橋', onyomi: ['きょう'], kunyomi: ['はし'], meanings: ['bridge'] },
                { character: '道', onyomi: ['どう'], kunyomi: ['みち'], meanings: ['road', 'way'] },
                { character: '街', onyomi: ['がい'], kunyomi: ['まち'], meanings: ['town', 'street'] },
                { character: '村', onyomi: ['そん'], kunyomi: ['むら'], meanings: ['village'] },
                
                // Advanced colors and materials
                { character: '銀', onyomi: ['ぎん'], kunyomi: [], meanings: ['silver'] },
                { character: '銅', onyomi: ['どう'], kunyomi: [], meanings: ['copper'] },
                { character: '鉄', onyomi: ['てつ'], kunyomi: [], meanings: ['iron'] },
                { character: '紙', onyomi: ['し'], kunyomi: ['かみ'], meanings: ['paper'] },
                { character: '布', onyomi: ['ふ'], kunyomi: ['ぬの'], meanings: ['cloth'] },
                { character: '皮', onyomi: ['ひ'], kunyomi: ['かわ'], meanings: ['skin', 'leather'] },
                { character: '毛', onyomi: ['もう'], kunyomi: ['け'], meanings: ['hair', 'fur'] },
                { character: '糸', onyomi: ['し'], kunyomi: ['いと'], meanings: ['thread'] },
                
                // Advanced weather
                { character: '雲', onyomi: ['うん'], kunyomi: ['くも'], meanings: ['cloud'] },
                { character: '雷', onyomi: ['らい'], kunyomi: ['かみなり'], meanings: ['thunder'] },
                { character: '光', onyomi: ['こう'], kunyomi: ['ひかり'], meanings: ['light'] },
                { character: '影', onyomi: ['えい'], kunyomi: ['かげ'], meanings: ['shadow'] },
                { character: '音', onyomi: ['おん'], kunyomi: ['おと'], meanings: ['sound'] },
                { character: '声', onyomi: ['せい'], kunyomi: ['こえ'], meanings: ['voice'] },
                
                // Advanced adjectives
                { character: '美', onyomi: ['び'], kunyomi: ['うつく'], meanings: ['beautiful'] },
                { character: '醜', onyomi: ['しゅう'], kunyomi: ['みにく'], meanings: ['ugly'] },
                { character: '汚', onyomi: ['お'], kunyomi: ['きたな'], meanings: ['dirty'] },
                { character: '清', onyomi: ['せい'], kunyomi: ['きよ'], meanings: ['clean', 'pure'] },
                { character: '静', onyomi: ['せい'], kunyomi: ['しず'], meanings: ['quiet'] },
                { character: '騒', onyomi: ['そう'], kunyomi: ['さわ'], meanings: ['noisy'] },
                { character: '暗', onyomi: ['あん'], kunyomi: ['くら'], meanings: ['dark'] },
                { character: '明', onyomi: ['めい'], kunyomi: ['あか'], meanings: ['bright'] },
                { character: '暖', onyomi: ['だん'], kunyomi: ['あたた'], meanings: ['warm'] },
                { character: '冷', onyomi: ['れい'], kunyomi: ['つめ'], meanings: ['cold'] },
                { character: '熱', onyomi: ['ねつ'], kunyomi: ['あつ'], meanings: ['hot', 'fever'] },
                { character: '涼', onyomi: ['りょう'], kunyomi: ['すず'], meanings: ['cool'] },
                
                // Advanced places and buildings
                { character: '建', onyomi: ['けん'], kunyomi: ['たて'], meanings: ['build'] },
                { character: '屋', onyomi: ['おく'], kunyomi: ['や'], meanings: ['house', 'roof'] },
                { character: '門', onyomi: ['もん'], kunyomi: [], meanings: ['gate'] },
                { character: '窓', onyomi: ['そう'], kunyomi: ['まど'], meanings: ['window'] },
                { character: '壁', onyomi: ['へき'], kunyomi: ['かべ'], meanings: ['wall'] },
                { character: '床', onyomi: ['しょう'], kunyomi: ['ゆか'], meanings: ['floor'] },
                { character: '天井', onyomi: ['てんじょう'], kunyomi: [], meanings: ['ceiling'] },
                { character: '階段', onyomi: ['かいだん'], kunyomi: [], meanings: ['stairs'] },
                { character: '部屋', onyomi: ['へや'], kunyomi: [], meanings: ['room'] },
                { character: '台所', onyomi: ['だいどころ'], kunyomi: [], meanings: ['kitchen'] },
                { character: '風呂', onyomi: ['ふろ'], kunyomi: [], meanings: ['bath'] },
                { character: '玄関', onyomi: ['げんかん'], kunyomi: [], meanings: ['entrance'] }
            ],
            'N3': [
                // Business and work
                { character: '会', onyomi: ['かい'], kunyomi: ['あ'], meanings: ['meeting', 'association'] },
                { character: '社', onyomi: ['しゃ'], kunyomi: ['やしろ'], meanings: ['company', 'shrine'] },
                { character: '員', onyomi: ['いん'], kunyomi: [], meanings: ['member', 'personnel'] },
                { character: '部', onyomi: ['ぶ'], kunyomi: [], meanings: ['part', 'section'] },
                { character: '課', onyomi: ['か'], kunyomi: [], meanings: ['lesson', 'section'] },
                { character: '営', onyomi: ['えい'], kunyomi: ['いとな'], meanings: ['manage', 'operate'] },
                { character: '業', onyomi: ['ぎょう'], kunyomi: ['わざ'], meanings: ['business', 'work'] },
                { character: '務', onyomi: ['む'], kunyomi: ['つと'], meanings: ['duty', 'task'] },
                { character: '責', onyomi: ['せき'], kunyomi: ['せ'], meanings: ['responsibility', 'blame'] },
                { character: '任', onyomi: ['にん'], kunyomi: ['まか'], meanings: ['responsibility', 'entrust'] },
                { character: '職', onyomi: ['しょく'], kunyomi: [], meanings: ['job', 'occupation'] },
                { character: '技', onyomi: ['ぎ'], kunyomi: ['わざ'], meanings: ['skill', 'technique'] },
                { character: '術', onyomi: ['じゅつ'], kunyomi: [], meanings: ['art', 'technique'] },
                { character: '能', onyomi: ['のう'], kunyomi: [], meanings: ['ability', 'capability'] },
                { character: '力', onyomi: ['りょく', 'りき'], kunyomi: ['ちから'], meanings: ['power', 'strength'] },
                
                // Advanced concepts
                { character: '効', onyomi: ['こう'], kunyomi: ['き'], meanings: ['effect', 'efficiency'] },
                { character: '果', onyomi: ['か'], kunyomi: ['はた'], meanings: ['fruit', 'result'] },
                { character: '実', onyomi: ['じつ'], kunyomi: ['み'], meanings: ['reality', 'fruit'] },
                { character: '現', onyomi: ['げん'], kunyomi: ['あらわ'], meanings: ['present', 'appear'] },
                { character: '象', onyomi: ['しょう'], kunyomi: ['ぞう'], meanings: ['phenomenon', 'elephant'] },
                { character: '状', onyomi: ['じょう'], kunyomi: [], meanings: ['condition', 'state'] },
                { character: '態', onyomi: ['たい'], kunyomi: [], meanings: ['condition', 'attitude'] },
                { character: '度', onyomi: ['ど'], kunyomi: ['たび'], meanings: ['degree', 'time'] },
                { character: '量', onyomi: ['りょう'], kunyomi: [], meanings: ['quantity', 'amount'] },
                { character: '質', onyomi: ['しつ'], kunyomi: [], meanings: ['quality', 'substance'] },
                { character: '品', onyomi: ['ひん'], kunyomi: ['しな'], meanings: ['product', 'goods'] },
                { character: '物', onyomi: ['ぶつ', 'もつ'], kunyomi: ['もの'], meanings: ['thing', 'object'] },
                { character: '事', onyomi: ['じ'], kunyomi: ['こと'], meanings: ['thing', 'matter'] },
                { character: '件', onyomi: ['けん'], kunyomi: [], meanings: ['matter', 'case'] },
                { character: '項', onyomi: ['こう'], kunyomi: [], meanings: ['item', 'clause'] },
                { character: '点', onyomi: ['てん'], kunyomi: [], meanings: ['point', 'spot'] },
                { character: '線', onyomi: ['せん'], kunyomi: [], meanings: ['line'] },
                { character: '面', onyomi: ['めん'], kunyomi: ['おも'], meanings: ['face', 'surface'] },
                
                // Advanced emotions and feelings
                { character: '感', onyomi: ['かん'], kunyomi: [], meanings: ['feeling', 'sense'] },
                { character: '情', onyomi: ['じょう'], kunyomi: [], meanings: ['emotion', 'feeling'] },
                { character: '意', onyomi: ['い'], kunyomi: [], meanings: ['intention', 'meaning'] },
                { character: '志', onyomi: ['し'], kunyomi: ['こころざ'], meanings: ['intention', 'ambition'] },
                { character: '願', onyomi: ['がん'], kunyomi: ['ねが'], meanings: ['wish', 'request'] },
                { character: '望', onyomi: ['ぼう'], kunyomi: ['のぞ'], meanings: ['hope', 'wish'] },
                { character: '希', onyomi: ['き'], kunyomi: [], meanings: ['hope', 'rare'] },
                { character: '求', onyomi: ['きゅう'], kunyomi: ['もと'], meanings: ['seek', 'request'] },
                { character: '要', onyomi: ['よう'], kunyomi: ['い'], meanings: ['need', 'important'] },
                { character: '必', onyomi: ['ひつ'], kunyomi: ['かなら'], meanings: ['necessary', 'certain'] },
                { character: '須', onyomi: ['す'], kunyomi: [], meanings: ['must', 'necessary'] },
                { character: '当', onyomi: ['とう'], kunyomi: ['あ'], meanings: ['hit', 'appropriate'] },
                
                // Advanced knowledge and learning
                { character: '知', onyomi: ['ち'], kunyomi: ['し'], meanings: ['know', 'knowledge'] },
                { character: '覚', onyomi: ['かく'], kunyomi: ['おぼ', 'さ'], meanings: ['remember', 'awake'] },
                { character: '考', onyomi: ['こう'], kunyomi: ['かんが'], meanings: ['think', 'consider'] },
                { character: '思', onyomi: ['し'], kunyomi: ['おも'], meanings: ['think', 'feel'] },
                { character: '想', onyomi: ['そう'], kunyomi: [], meanings: ['think', 'imagine'] },
                { character: '念', onyomi: ['ねん'], kunyomi: [], meanings: ['thought', 'feeling'] },
                { character: '識', onyomi: ['しき'], kunyomi: [], meanings: ['knowledge', 'recognition'] },
                { character: '認', onyomi: ['にん'], kunyomi: ['みと'], meanings: ['recognize', 'admit'] },
                { character: '確', onyomi: ['かく'], kunyomi: ['たし'], meanings: ['certain', 'confirm'] },
                { character: '決', onyomi: ['けつ'], kunyomi: ['き'], meanings: ['decide', 'determine'] },
                { character: '定', onyomi: ['てい'], kunyomi: ['さだ'], meanings: ['decide', 'fix'] },
                { character: '解', onyomi: ['かい'], kunyomi: ['と'], meanings: ['solve', 'explain'] },
                { character: '説', onyomi: ['せつ'], kunyomi: ['と'], meanings: ['theory', 'explain'] },
                { character: '論', onyomi: ['ろん'], kunyomi: [], meanings: ['theory', 'argument'] },
                { character: '理', onyomi: ['り'], kunyomi: [], meanings: ['reason', 'manage'] },
                
                // Advanced control and management
                { character: '統', onyomi: ['とう'], kunyomi: ['す'], meanings: ['unify', 'control'] },
                { character: '制', onyomi: ['せい'], kunyomi: [], meanings: ['control', 'system'] },
                { character: '管', onyomi: ['かん'], kunyomi: ['くだ'], meanings: ['manage', 'tube'] },
                { character: '治', onyomi: ['ち'], kunyomi: ['なお'], meanings: ['govern', 'cure'] },
                { character: '政', onyomi: ['せい'], kunyomi: ['まつりごと'], meanings: ['politics', 'government'] },
                { character: '法', onyomi: ['ほう'], kunyomi: [], meanings: ['law', 'method'] },
                { character: '規', onyomi: ['き'], kunyomi: [], meanings: ['rule', 'regulation'] },
                { character: '則', onyomi: ['そく'], kunyomi: [], meanings: ['rule', 'principle'] },
                { character: '約', onyomi: ['やく'], kunyomi: [], meanings: ['promise', 'approximately'] },
                { character: '束', onyomi: ['そく'], kunyomi: ['たば'], meanings: ['bundle', 'restrain'] },
                { character: '縛', onyomi: ['ばく'], kunyomi: ['しば'], meanings: ['bind', 'restrict'] },
                { character: '限', onyomi: ['げん'], kunyomi: ['かぎ'], meanings: ['limit', 'restrict'] },
                { character: '制', onyomi: ['せい'], kunyomi: [], meanings: ['control', 'system'] },
                { character: '禁', onyomi: ['きん'], kunyomi: [], meanings: ['prohibit', 'forbid'] },
                { character: '許', onyomi: ['きょ'], kunyomi: ['ゆる'], meanings: ['permit', 'allow'] }
            ],
            'N2': [
                { character: '経', onyomi: ['けい'], kunyomi: ['へ'], meanings: ['pass through', 'manage'] },
                { character: '営', onyomi: ['えい'], kunyomi: ['いとな'], meanings: ['manage', 'operate'] },
                { character: '業', onyomi: ['ぎょう'], kunyomi: ['わざ'], meanings: ['business', 'work'] },
                { character: '務', onyomi: ['む'], kunyomi: ['つと'], meanings: ['duty', 'task'] },
                { character: '責', onyomi: ['せき'], kunyomi: ['せ'], meanings: ['responsibility', 'blame'] },
                { character: '任', onyomi: ['にん'], kunyomi: ['まか'], meanings: ['responsibility', 'entrust'] },
                { character: '職', onyomi: ['しょく'], kunyomi: [], meanings: ['job', 'occupation'] },
                { character: '技', onyomi: ['ぎ'], kunyomi: ['わざ'], meanings: ['skill', 'technique'] },
                { character: '術', onyomi: ['じゅつ'], kunyomi: [], meanings: ['art', 'technique'] },
                { character: '能', onyomi: ['のう'], kunyomi: [], meanings: ['ability', 'capability'] },
                { character: '力', onyomi: ['りょく', 'りき'], kunyomi: ['ちから'], meanings: ['power', 'strength'] },
                { character: '効', onyomi: ['こう'], kunyomi: ['き'], meanings: ['effect', 'efficiency'] },
                { character: '果', onyomi: ['か'], kunyomi: ['はた'], meanings: ['fruit', 'result'] },
                { character: '実', onyomi: ['じつ'], kunyomi: ['み'], meanings: ['reality', 'fruit'] },
                { character: '現', onyomi: ['げん'], kunyomi: ['あらわ'], meanings: ['present', 'appear'] },
                { character: '象', onyomi: ['しょう'], kunyomi: ['ぞう'], meanings: ['phenomenon', 'elephant'] },
                { character: '状', onyomi: ['じょう'], kunyomi: [], meanings: ['condition', 'state'] },
                { character: '態', onyomi: ['たい'], kunyomi: [], meanings: ['condition', 'attitude'] },
                { character: '度', onyomi: ['ど'], kunyomi: ['たび'], meanings: ['degree', 'time'] },
                { character: '量', onyomi: ['りょう'], kunyomi: [], meanings: ['quantity', 'amount'] },
                { character: '質', onyomi: ['しつ'], kunyomi: [], meanings: ['quality', 'substance'] },
                { character: '品', onyomi: ['ひん'], kunyomi: ['しな'], meanings: ['product', 'goods'] },
                { character: '物', onyomi: ['ぶつ', 'もつ'], kunyomi: ['もの'], meanings: ['thing', 'object'] },
                { character: '事', onyomi: ['じ'], kunyomi: ['こと'], meanings: ['thing', 'matter'] },
                { character: '件', onyomi: ['けん'], kunyomi: [], meanings: ['matter', 'case'] },
                { character: '項', onyomi: ['こう'], kunyomi: [], meanings: ['item', 'clause'] },
                { character: '目', onyomi: ['もく'], kunyomi: ['め'], meanings: ['eye', 'item'] },
                { character: '点', onyomi: ['てん'], kunyomi: [], meanings: ['point', 'spot'] },
                { character: '線', onyomi: ['せん'], kunyomi: [], meanings: ['line'] },
                { character: '面', onyomi: ['めん'], kunyomi: ['おも'], meanings: ['face', 'surface'] }
            ],
            'N1': [
                { character: '統', onyomi: ['とう'], kunyomi: ['す'], meanings: ['unify', 'control'] },
                { character: '制', onyomi: ['せい'], kunyomi: [], meanings: ['control', 'system'] },
                { character: '管', onyomi: ['かん'], kunyomi: ['くだ'], meanings: ['manage', 'tube'] },
                { character: '理', onyomi: ['り'], kunyomi: [], meanings: ['reason', 'manage'] },
                { character: '論', onyomi: ['ろん'], kunyomi: [], meanings: ['theory', 'argument'] },
                { character: '説', onyomi: ['せつ'], kunyomi: ['と'], meanings: ['theory', 'explain'] },
                { character: '解', onyomi: ['かい'], kunyomi: ['と'], meanings: ['solve', 'explain'] },
                { character: '決', onyomi: ['けつ'], kunyomi: ['き'], meanings: ['decide', 'determine'] },
                { character: '定', onyomi: ['てい'], kunyomi: ['さだ'], meanings: ['decide', 'fix'] },
                { character: '確', onyomi: ['かく'], kunyomi: ['たし'], meanings: ['certain', 'confirm'] },
                { character: '認', onyomi: ['にん'], kunyomi: ['みと'], meanings: ['recognize', 'admit'] },
                { character: '識', onyomi: ['しき'], kunyomi: [], meanings: ['knowledge', 'recognition'] },
                { character: '知', onyomi: ['ち'], kunyomi: ['し'], meanings: ['know', 'knowledge'] },
                { character: '覚', onyomi: ['かく'], kunyomi: ['おぼ', 'さ'], meanings: ['remember', 'awake'] },
                { character: '考', onyomi: ['こう'], kunyomi: ['かんが'], meanings: ['think', 'consider'] },
                { character: '思', onyomi: ['し'], kunyomi: ['おも'], meanings: ['think', 'feel'] },
                { character: '想', onyomi: ['そう'], kunyomi: [], meanings: ['think', 'imagine'] },
                { character: '念', onyomi: ['ねん'], kunyomi: [], meanings: ['thought', 'feeling'] },
                { character: '感', onyomi: ['かん'], kunyomi: [], meanings: ['feeling', 'sense'] },
                { character: '情', onyomi: ['じょう'], kunyomi: [], meanings: ['emotion', 'feeling'] },
                { character: '意', onyomi: ['い'], kunyomi: [], meanings: ['intention', 'meaning'] },
                { character: '志', onyomi: ['し'], kunyomi: ['こころざ'], meanings: ['intention', 'ambition'] },
                { character: '願', onyomi: ['がん'], kunyomi: ['ねが'], meanings: ['wish', 'request'] },
                { character: '望', onyomi: ['ぼう'], kunyomi: ['のぞ'], meanings: ['hope', 'wish'] },
                { character: '希', onyomi: ['き'], kunyomi: [], meanings: ['hope', 'rare'] },
                { character: '求', onyomi: ['きゅう'], kunyomi: ['もと'], meanings: ['seek', 'request'] },
                { character: '要', onyomi: ['よう'], kunyomi: ['い'], meanings: ['need', 'important'] },
                { character: '必', onyomi: ['ひつ'], kunyomi: ['かなら'], meanings: ['necessary', 'certain'] },
                { character: '須', onyomi: ['す'], kunyomi: [], meanings: ['must', 'necessary'] },
                { character: '当', onyomi: ['とう'], kunyomi: ['あ'], meanings: ['hit', 'appropriate'] }
            ]
        };

        // App state
        let currentLevel = 'N5';

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
        });

        function initializeApp() {
            setupEventListeners();
            loadKanjiGrid('N5');
        }

        function setupEventListeners() {
            // Level buttons
            document.querySelectorAll('.level-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    const level = e.currentTarget.dataset.level;
                    loadKanjiGrid(level);
                    updateLevelButtons(level);
                });
            });

            // Modal
            document.getElementById('close-modal').addEventListener('click', closeModal);
            document.getElementById('kanji-modal').addEventListener('click', (e) => {
                if (e.target.id === 'kanji-modal') closeModal();
            });
        }

        function loadKanjiGrid(level) {
            currentLevel = level;
            const kanjis = kanjiData[level] || [];
            const grid = document.getElementById('kanji-grid');
            const count = document.getElementById('kanji-count');

            // Update counter immediately
            count.textContent = `Showing ${kanjis.length} kanji for ${level}`;
            
            // Clear grid and show loading state
            grid.innerHTML = '<div class="col-span-full text-center py-8"><div class="inline-block w-8 h-8 border-4 border-kanji-blue border-t-transparent rounded-full animate-spin"></div></div>';
            
            // Use requestAnimationFrame for smooth rendering
            requestAnimationFrame(() => {
                grid.innerHTML = '';
                kanjis.forEach(kanji => {
                    const card = document.createElement('div');
                    card.className = 'bg-white/80 backdrop-blur-sm rounded-2xl shadow-lg p-6 text-center hover:shadow-xl hover:scale-105 transition-all duration-300 cursor-pointer kanji-card border border-white/20 group';
                    card.innerHTML = `
                        <div class="text-5xl font-japanese font-bold bg-gradient-to-br from-kanji-blue to-kanji-purple bg-clip-text text-transparent mb-4 kanji-character group-hover:animate-bounce-subtle">
                            ${kanji.character}
                        </div>
                        <div class="text-sm text-slate-600 space-y-2">
                            ${kanji.onyomi.length > 0 ? `<div class="bg-blue-50 rounded-lg px-3 py-2"><span class="font-semibold text-blue-700">音:</span> <span class="text-blue-600">${kanji.onyomi[0]}</span></div>` : ''}
                            ${kanji.kunyomi.length > 0 ? `<div class="bg-green-50 rounded-lg px-3 py-2"><span class="font-semibold text-green-700">訓:</span> <span class="text-green-600">${kanji.kunyomi[0]}</span></div>` : ''}
                            ${kanji.meanings.length > 0 ? `<div class="bg-purple-50 rounded-lg px-3 py-2"><span class="font-semibold text-purple-700">意味:</span> <span class="text-purple-600">${kanji.meanings[0]}</span></div>` : ''}
                        </div>
                    `;
                    
                    card.addEventListener('click', () => showKanjiModal(kanji));
                    grid.appendChild(card);
                });
            });
        }

        function updateLevelButtons(activeLevel) {
            document.querySelectorAll('.level-btn').forEach(btn => {
                const level = btn.dataset.level;
                btn.className = level === activeLevel
                    ? 'level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-kanji-blue to-kanji-indigo text-white shadow-lg hover:shadow-xl'
                    : 'level-btn px-8 py-4 rounded-2xl font-bold text-base transition-all duration-300 transform hover:scale-105 bg-gradient-to-r from-slate-200 to-slate-300 text-slate-700 hover:from-slate-300 hover:to-slate-400 shadow-md hover:shadow-lg';
            });
        }

        function showKanjiModal(kanji) {
            const modal = document.getElementById('kanji-modal');
            const content = document.getElementById('modal-content');
            
            content.innerHTML = `
                <div class="space-y-6">
                    <div class="text-9xl font-japanese font-black bg-gradient-to-br from-kanji-blue via-kanji-purple to-kanji-pink bg-clip-text text-transparent mb-8 animate-bounce-subtle">
                        ${kanji.character}
                    </div>
                    
                    <div class="space-y-4">
                        ${kanji.onyomi.length > 0 ? `
                            <div class="bg-gradient-to-r from-blue-50 to-indigo-50 p-4 rounded-2xl border border-blue-200">
                                <h4 class="font-bold text-blue-800 mb-2 text-lg">音読み (Onyomi)</h4>
                                <p class="text-blue-700 font-medium text-lg">${kanji.onyomi.join(', ')}</p>
                            </div>
                        ` : ''}
                        
                        ${kanji.kunyomi.length > 0 ? `
                            <div class="bg-gradient-to-r from-green-50 to-emerald-50 p-4 rounded-2xl border border-green-200">
                                <h4 class="font-bold text-green-800 mb-2 text-lg">訓読み (Kunyomi)</h4>
                                <p class="text-green-700 font-medium text-lg">${kanji.kunyomi.join(', ')}</p>
                            </div>
                        ` : ''}
                        
                        ${kanji.meanings.length > 0 ? `
                            <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-4 rounded-2xl border border-purple-200">
                                <h4 class="font-bold text-purple-800 mb-2 text-lg">意味 (Meanings)</h4>
                                <p class="text-purple-700 font-medium text-lg">${kanji.meanings.join(', ')}</p>
                            </div>
                        ` : ''}
                    </div>
                    
                    <div class="text-center">
                        <span class="inline-flex items-center bg-gradient-to-r from-kanji-blue to-kanji-purple text-white px-6 py-3 rounded-2xl text-base font-bold shadow-lg">
                            <div class="w-2 h-2 bg-white rounded-full mr-2 animate-pulse-slow"></div>
                            JLPT ${currentLevel}
                        </span>
                    </div>
                </div>
            `;
            
            modal.classList.remove('hidden');
        }

        function closeModal() {
            document.getElementById('kanji-modal').classList.add('hidden');
        }
    </script>
</body>
</html>
